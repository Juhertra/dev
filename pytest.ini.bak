[pytest]
minversion = 6.0
addopts = -q --strict-markers --strict-config
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

markers =
    unit: Unit tests - fast, isolated tests
    integration: Integration tests - test component interactions
    e2e: End-to-end tests - test complete workflows
    slow: Slow running tests - may take > 5 seconds
    security: Security-related tests - plugin security, signing, sandboxing
    workflow: Workflow engine tests - workflow execution and management
    plugin: Plugin system tests - plugin loading, execution, discovery
    coverage: Coverage-related tests - test coverage measurement
    performance: Performance tests - test system performance
    network: Network-dependent tests - require network access
    filesystem: Filesystem-dependent tests - require file system access

# Test discovery
collect_ignore = [
    "setup.py",
    "build",
    "dist",
    "*.egg-info",
    "venv",
    ".venv",
    "env",
    ".env"
]

# Coverage configuration is handled in pyproject.toml
